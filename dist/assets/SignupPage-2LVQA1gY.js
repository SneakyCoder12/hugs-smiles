import{c as w,u as j,d as N,r as i,j as e,L as m,b as y,t as d,s as p}from"./index-oWMwxAaA.js";import{P as v}from"./PhoneInput-BelPSwci.js";import{M as k}from"./mail-BFU39x_q.js";import{L as x}from"./lock-DbpErOGU.js";import{E as P,a as L}from"./eye--Vfn0YSA.js";import"./phone-P4D10GHF.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],C=w("user",S);function U(){const{t}=j(),f=N(),[s,g]=i.useState({email:"",password:"",confirmPassword:"",fullName:"",phone:"+971"}),[o,b]=i.useState(!1),[u,c]=i.useState(!1),a=(r,n)=>g(l=>({...l,[r]:n})),h=async r=>{if(r.preventDefault(),s.password!==s.confirmPassword){d.error("Passwords do not match");return}if(s.password.length<6){d.error("Password must be at least 6 characters");return}c(!0);const{data:n,error:l}=await p.auth.signUp({email:s.email,password:s.password,options:{emailRedirectTo:window.location.origin,data:{full_name:s.fullName}}});l?d.error(l.message):(n.user&&s.phone.length>4&&await p.from("profiles").update({phone_number:s.phone}).eq("id",n.user.id),d.success(t("signupSuccess")),f("/login")),c(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(m,{to:"/",className:"font-display font-black text-3xl text-foreground",children:["AL ",e.jsx("span",{className:"text-primary",children:"NUAMI"})]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:t("signup")})]}),e.jsxs("form",{onSubmit:h,className:"bg-card border border-border rounded-2xl p-8 space-y-4 shadow-card",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:t("fullName")}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",required:!0,value:s.fullName,onChange:r=>a("fullName",r.target.value),className:"w-full bg-surface border border-border rounded-xl ps-10 pe-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:t("email")}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"email",required:!0,value:s.email,onChange:r=>a("email",r.target.value),className:"w-full bg-surface border border-border rounded-xl ps-10 pe-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:t("phoneNumber")}),e.jsx(v,{value:s.phone,onChange:r=>a("phone",r)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:t("password")}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:o?"text":"password",required:!0,value:s.password,onChange:r=>a("password",r.target.value),className:"w-full bg-surface border border-border rounded-xl ps-10 pe-10 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"}),e.jsx("button",{type:"button",onClick:()=>b(!o),className:"absolute end-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:o?e.jsx(P,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Password must be at least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:t("confirmPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:o?"text":"password",required:!0,value:s.confirmPassword,onChange:r=>a("confirmPassword",r.target.value),className:"w-full bg-surface border border-border rounded-xl ps-10 pe-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),e.jsxs("button",{type:"submit",disabled:u,className:"w-full bg-primary text-primary-foreground hover:bg-primary-hover py-3 rounded-xl font-bold text-sm transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[u&&e.jsx(y,{className:"h-4 w-4 animate-spin"}),t("signup")]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t("hasAccount")," ",e.jsx(m,{to:"/login",className:"text-primary font-bold hover:underline",children:t("login")})]})]})]})})}export{U as default};
