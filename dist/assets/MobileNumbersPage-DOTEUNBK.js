import{c as q,r as s,d as A,j as e,L as E,a as I,e as R,s as w,X as V,b as z,C as B,t as H}from"./index-oWMwxAaA.js";import{H as U}from"./heart-80JjwrvD.js";import{P as T}from"./phone-P4D10GHF.js";import{M as Z}from"./message-circle-D034qcCi.js";import{S as G}from"./star-BDpQMzPy.js";import{A as W}from"./arrow-right-KQZxj0Y2.js";import{S as X}from"./search-CF_0P4O3.js";import{S as J}from"./smartphone-C-8RtEo4.js";import{C as K}from"./chevron-left-Co_0h8vG.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q=q("external-link",O);function Y({id:h,phoneNumber:l,carrier:r,price:y,description:j,contactPhone:u,isFavorite:m,onToggleFavorite:v}){const[d,x]=s.useState(!1),g=A(),f=`/mobile-number/${h}`,a=(u==null?void 0:u.replace(/\D/g,""))||"",p=a?`https://wa.me/${a}?text=${encodeURIComponent(`Hi, I'm interested in the number ${l}.`)}`:null,n=a?`tel:+${a}`:null,i=()=>{d?g(f):x(!0)};return e.jsx("div",{className:"perspective-1000 h-[280px] cursor-pointer",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onClick:i,children:e.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 ease-out transform-style-3d ${d?"rotate-y-180":""}`,children:[e.jsx("div",{className:"absolute inset-0 backface-hidden",children:e.jsxs("div",{className:"block h-full bg-white rounded-2xl border border-gray-200 hover:shadow-lg transition-all duration-300 group p-6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsxs("span",{className:`inline-flex items-center gap-1.5 text-[10px] font-black px-3 py-1.5 rounded-full uppercase tracking-wider border ${r==="etisalat"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-blue-50 border-blue-200 text-blue-700"}`,children:[e.jsx("img",{src:r==="etisalat"?"/Eand_Logo.svg":"/du-logo.png",alt:r,className:"h-4 w-4 object-contain"}),r==="etisalat"?"e&":"du"]}),e.jsx("button",{onClick:o=>{o.stopPropagation(),v(o,h)},className:"h-8 w-8 rounded-full bg-gray-50 border border-gray-200 flex items-center justify-center hover:bg-red-50 hover:border-red-200 transition-all",children:e.jsx(U,{className:`h-3.5 w-3.5 transition-colors ${m?"fill-red-500 text-red-500":"text-gray-400"}`})})]}),e.jsx("p",{className:"text-2xl font-black tracking-widest text-gray-900 mb-2 font-mono group-hover:text-gray-700 transition-colors",children:l}),j&&e.jsx("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:j}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("div",{className:"h-px w-full bg-gray-100 mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-gray-900 font-mono font-bold text-xl",children:y?`AED ${y.toLocaleString()}`:"Call for Price"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider group-hover:text-gray-600 transition-colors",children:"View â†’"})]})]})]})}),e.jsx("div",{className:"absolute inset-0 backface-hidden rotate-y-180",children:e.jsxs("div",{className:"h-full bg-white rounded-2xl border border-gray-200 flex flex-col items-center justify-center px-5 py-4",children:[e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-[0.2em] font-bold mb-1",children:"Contact Seller"}),e.jsx("p",{className:"text-sm font-display font-bold text-gray-900 mb-0.5",children:"VIP Number"}),e.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded-full mb-3 ${r==="etisalat"?"bg-emerald-50 text-emerald-700":"bg-blue-50 text-blue-700"}`,children:[e.jsx("img",{src:r==="etisalat"?"/Eand_Logo.svg":"/du-logo.png",alt:r,className:"h-3 w-3 object-contain"}),r==="etisalat"?"e&":"du"]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl px-5 py-2.5 mb-4",children:e.jsx("p",{className:"font-mono font-black text-gray-900 text-xl tracking-wider text-center",children:l})}),e.jsxs("div",{className:"w-full space-y-2 mb-3",children:[n&&e.jsxs("a",{href:n,onClick:o=>o.stopPropagation(),className:"w-full flex items-center justify-center gap-2.5 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-700 hover:to-emerald-600 text-white py-2.5 rounded-full font-bold text-sm transition-all shadow-sm hover:shadow-md",children:[e.jsx(T,{className:"h-4 w-4"})," Call Now"]}),p&&e.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:o=>o.stopPropagation(),className:"w-full flex items-center justify-center gap-2.5 bg-gradient-to-r from-[#25D366] to-[#20BD5A] hover:from-[#1da851] hover:to-[#189E49] text-white py-2.5 rounded-full font-bold text-sm transition-all shadow-sm hover:shadow-md",children:[e.jsx(Z,{className:"h-4 w-4"})," WhatsApp"]}),e.jsxs(E,{to:f,onClick:o=>o.stopPropagation(),className:"w-full flex items-center justify-center gap-2 bg-gray-900 hover:bg-gray-800 text-white py-2.5 rounded-full font-bold text-sm transition-all",children:[e.jsx(Q,{className:"h-4 w-4"})," View Details"]})]}),a&&e.jsxs("p",{className:"text-[10px] text-gray-400 font-mono tracking-wide",children:["+",a]})]})})]})})}const ee=s.memo(Y),k=12;function de(){const[h]=I(),{user:l}=R(),[r,y]=s.useState([]),[j,u]=s.useState(!0),[m,v]=s.useState(""),[d,x]=s.useState(""),[g,f]=s.useState(""),[a,p]=s.useState(""),[n,i]=s.useState(0),[o,M]=s.useState(0),[C,N]=s.useState(new Set);s.useEffect(()=>{const t=h.get("carrier");t&&["du","etisalat"].includes(t.toLowerCase())&&x(t.toLowerCase())},[h]),s.useEffect(()=>{l&&(async()=>{const{data:t}=await w.from("favorites").select("listing_id").eq("user_id",l.id).eq("listing_type","mobile_number");t&&N(new Set(t.map(c=>c.listing_id)))})()},[l]);const F=async(t,c)=>{if(t.preventDefault(),t.stopPropagation(),!l){H.error("Please log in to save favorites");return}C.has(c)?(await w.from("favorites").delete().eq("user_id",l.id).eq("listing_type","mobile_number").eq("listing_id",c),N(b=>{const _=new Set(b);return _.delete(c),_})):(await w.from("favorites").insert({user_id:l.id,listing_type:"mobile_number",listing_id:c}),N(b=>new Set(b).add(c)))},S=s.useCallback(async()=>{u(!0);let t=w.from("mobile_numbers").select("*",{count:"exact"}).eq("status","active").order("created_at",{ascending:!1}).range(n*k,(n+1)*k-1);m.trim()&&(t=t.ilike("phone_number",`%${m.trim()}%`)),d&&(t=t.eq("carrier",d)),g&&(t=t.gte("price",Number(g))),a&&(t=t.lte("price",Number(a)));const{data:c,count:P,error:b}=await t;b?console.error(b):(y(c||[]),M(P||0)),u(!1)},[m,d,g,a,n]);s.useEffect(()=>{S()},[S]);const L=Math.ceil(o/k),D=()=>{v(""),x(""),f(""),p(""),i(0)},$=m||d||g||a;return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 pt-24",children:[e.jsxs("div",{className:"relative rounded-3xl overflow-hidden mb-10 border border-gray-200/60 shadow-sm",style:{background:"linear-gradient(135deg, #fafaf9 0%, #ffffff 30%, #f5f3ef 60%, #faf8f5 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.06]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 200'%3E%3Cpath d='M0,200 L0,180 L30,180 L30,120 L35,120 L35,100 L40,100 L40,120 L45,120 L45,180 L80,180 L80,140 L85,140 L85,60 L87,55 L89,60 L89,140 L95,140 L95,180 L130,180 L130,150 L140,150 L140,130 L150,130 L150,150 L160,150 L160,180 L200,180 L200,160 L210,160 L210,40 L213,10 L216,40 L216,160 L220,160 L220,180 L260,180 L260,150 L280,150 L280,130 L290,130 L290,170 L310,170 L310,140 L325,140 L325,170 L340,170 L340,180 L380,180 L380,160 L400,160 L400,120 L405,120 L405,80 L410,75 L415,80 L415,120 L420,120 L420,160 L440,160 L440,180 L500,180 L500,140 L520,140 L520,110 L540,110 L540,140 L560,140 L560,180 L600,180 L600,155 L620,155 L620,130 L630,130 L630,155 L650,155 L650,180 L700,180 L700,160 L730,160 L730,140 L750,140 L750,160 L780,160 L780,180 L800,180 L800,200 Z' fill='%23000' opacity='0.5'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right bottom",backgroundSize:"70% auto"}}),e.jsx("div",{className:"absolute -top-32 -right-32 w-96 h-96 rounded-full bg-gradient-to-br from-amber-100/40 to-orange-50/20 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-72 h-72 rounded-full bg-gradient-to-tr from-amber-50/30 to-yellow-50/10 blur-3xl"}),e.jsx("div",{className:"absolute top-3 right-[12%] text-amber-300/[0.08] text-2xl font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(-5deg)"},children:"050 777 7777"}),e.jsx("div",{className:"absolute top-14 right-[3%] text-amber-300/[0.08] text-xl font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(4deg)"},children:"052 999 0000"}),e.jsx("div",{className:"absolute bottom-6 right-[10%] text-amber-300/[0.08] text-lg font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(-3deg)"},children:"053 777 777777"}),e.jsx("div",{className:"absolute bottom-16 left-[50%] text-amber-300/[0.06] text-base font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(6deg)"},children:"055 111 1111"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"radial-gradient(circle, #000 0.5px, transparent 0.5px)",backgroundSize:"16px 16px"}}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 via-white to-red-500 opacity-30"}),e.jsxs("div",{className:"relative px-8 md:px-14 py-12 md:py-16 flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex-1 text-center md:text-start z-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 mb-4 px-4 py-1.5 rounded-full border border-amber-200/80 bg-gradient-to-r from-amber-50 to-white",children:[e.jsx(G,{className:"h-3.5 w-3.5 text-amber-500"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-amber-600",children:"VIP Numbers"})]}),e.jsxs("h1",{className:"text-3xl md:text-5xl font-display font-black text-gray-900 tracking-tight mb-3 leading-tight",children:["Premium Mobile",e.jsx("br",{}),"Numbers"]}),e.jsxs("p",{className:"text-gray-500 text-sm md:text-base leading-relaxed max-w-md",children:["Browse exclusive Du and Etisalat VIP numbers.",e.jsx("br",{className:"hidden md:block"})," Find the perfect number that stands out."]}),e.jsxs(E,{to:"/marketplace",className:"mt-6 inline-flex items-center gap-2 text-sm font-bold text-gray-700 hover:text-gray-900 transition-colors border border-gray-200 rounded-full px-5 py-2.5 bg-white hover:bg-gray-50 shadow-sm",children:["Browse Plate Numbers ",e.jsx(W,{className:"h-3.5 w-3.5"})]})]}),e.jsxs("div",{className:"flex gap-5 z-10",children:[e.jsx("div",{className:"h-24 w-24 rounded-2xl bg-white border border-gray-200 flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow hover:-translate-y-1 transform duration-300",children:e.jsx("img",{src:"/du-logo.png",alt:"Du",className:"h-12 w-12 object-contain"})}),e.jsx("div",{className:"h-24 w-24 rounded-2xl bg-white border border-gray-200 flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow hover:-translate-y-1 transform duration-300",children:e.jsx("img",{src:"/Eand_Logo.svg",alt:"Etisalat",className:"h-12 w-12 object-contain"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Active Listings"}),e.jsxs("span",{className:"text-sm text-gray-400 font-mono",children:[o," numbers"]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-4 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{value:m,onChange:t=>{v(t.target.value),i(0)},className:"w-full bg-white border border-gray-200 rounded-xl ps-10 pe-4 py-3 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-300",placeholder:"Search numbers..."})]}),e.jsxs("select",{value:d,onChange:t=>{x(t.target.value),i(0)},className:"bg-white border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-300",children:[e.jsx("option",{value:"",children:"All Carriers"}),e.jsx("option",{value:"du",children:"Du"}),e.jsx("option",{value:"etisalat",children:"Etisalat"})]}),e.jsx("input",{type:"number",value:g,onChange:t=>{f(t.target.value),i(0)},placeholder:"Min Price (AED)",className:"bg-white border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-300"}),e.jsx("input",{type:"number",value:a,onChange:t=>{p(t.target.value),i(0)},placeholder:"Max Price (AED)",className:"bg-white border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-300"})]}),$&&e.jsxs("button",{onClick:D,className:"mt-3 text-xs text-gray-700 font-bold flex items-center gap-1 hover:underline",children:[e.jsx(V,{className:"h-3 w-3"})," Reset Filters"]})]}),j?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(z,{className:"h-8 w-8 animate-spin text-gray-400"})}):r.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(J,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No numbers found"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:r.map(t=>e.jsx(ee,{id:t.id,phoneNumber:t.phone_number,carrier:t.carrier,price:t.price,description:t.description,contactPhone:t.contact_phone,isFavorite:C.has(t.id),onToggleFavorite:F},t.id))}),L>1&&e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>i(t=>Math.max(0,t-1)),disabled:n===0,className:"h-10 w-10 rounded-xl bg-white border border-gray-200 flex items-center justify-center text-gray-700 disabled:opacity-30 hover:bg-gray-50 transition-colors",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-gray-500 font-mono",children:["Page ",n+1," of ",L]}),e.jsx("button",{onClick:()=>i(t=>Math.min(L-1,t+1)),disabled:n>=L-1,className:"h-10 w-10 rounded-xl bg-white border border-gray-200 flex items-center justify-center text-gray-700 disabled:opacity-30 hover:bg-gray-50 transition-colors",children:e.jsx(B,{className:"h-4 w-4"})})]})]})})}export{de as default};
