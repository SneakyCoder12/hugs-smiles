import{c as me,e as Ue,u as Be,r as i,j as e,L as le,b as C,s as c,t as n}from"./index-oWMwxAaA.js";import{P as Te}from"./PhoneInput-BelPSwci.js";import{S as Oe}from"./shield-BQRpgUpd.js";import{T as M}from"./trash-2-C828ABcw.js";import{S as ne}from"./search-CF_0P4O3.js";import{E as Ve,a as He}from"./eye--Vfn0YSA.js";import{C as ie}from"./circle-check-big-CtFOaCei.js";import{S as de}from"./smartphone-C-8RtEo4.js";import{H as K}from"./heart-80JjwrvD.js";import"./phone-P4D10GHF.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],A=me("pencil",Ze);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$=me("plus",Qe),W=["Abu Dhabi","Dubai","Sharjah","Ajman","Umm Al Quwain","Ras Al Khaimah","Fujairah"],ce=(o,l,S)=>({plate_number:"",emirate:(o==null?void 0:o.emirate)||"Dubai",plate_style:"",price:"",description:"",contact_email:l||(o==null?void 0:o.contact_email)||"",contact_phone:S||(o==null?void 0:o.contact_phone)||"",vehicle_type:(o==null?void 0:o.vehicle_type)||"car"});function or(){var ae,oe;const{user:o,profile:l,isAdmin:S,refreshProfile:ue}=Ue(),{t:m}=Be(),[xe,pe]=i.useState([]),[be,ge]=i.useState(!0),[b,g]=i.useState(!1),[h,w]=i.useState([]),[fe,F]=i.useState(!1),[q,he]=i.useState(""),[X,je]=i.useState("all"),[_,E]=i.useState(0),z=20,[I,R]=i.useState(null),[d,f]=i.useState({plate_code:"",plate_number:"",emirate:"Dubai",price:"",description:"",vehicle_type:"car"}),[D,U]=i.useState({full_name:"",phone_number:""}),[ve,B]=i.useState(!1),[T,O]=i.useState(null),[J,ye]=i.useState([]),[Ne,V]=i.useState(!1),[u,j]=i.useState({phone_number:"",carrier:"du",price:"",description:"",contact_phone:""}),[H,Z]=i.useState(null),[Q,Y]=i.useState(null),[x,v]=i.useState({phone_number:"",carrier:"du",price:"",description:"",contact_phone:""}),[ee,re]=i.useState([]);i.useEffect(()=>{l&&U({full_name:l.full_name||"",phone_number:l.phone_number||""})},[l]);const y=async()=>{if(!o)return;const{data:r,error:t}=await c.from("listings").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});if(t)n.error(t.message);else{const s=(r||[]).map(a=>({...a,vehicle_type:a.vehicle_type||"car"}));pe(s)}ge(!1)};i.useEffect(()=>{y()},[o]);const we=()=>{w([ce(void 0,(o==null?void 0:o.email)||"",(l==null?void 0:l.phone_number)||"")]),F(!0)},_e=()=>{if(h.length>=20){n.error("Maximum 20 rows at once");return}w(r=>[...r,ce(r[r.length-1],(o==null?void 0:o.email)||"",(l==null?void 0:l.phone_number)||"")])},p=(r,t,s)=>{w(a=>a.map((N,P)=>P===r?{...N,[t]:s}:N))},te=r=>{h.length<=1||w(t=>t.filter((s,a)=>a!==r))},ke=async()=>{if(!o)return;const r=h.filter(a=>a.plate_number.trim());if(!r.length){n.error("Add at least one plate number");return}g(!0);const t=r.map(a=>({plate_number:a.plate_style.trim()?`${a.plate_style.trim()} ${a.plate_number.trim()}`:a.plate_number.trim(),emirate:a.emirate,plate_style:a.plate_style||null,price:a.price?Number(a.price):null,description:a.description||null,contact_email:a.contact_email||null,contact_phone:a.contact_phone||null,user_id:o.id,status:"active",vehicle_type:a.vehicle_type})),{error:s}=await c.from("listings").insert(t);s?n.error(s.message):(n.success(`${t.length} listings created successfully!`),F(!1),w([]),y()),g(!1)},Ce=r=>{var N,P;const t=((N=r.plate_number)==null?void 0:N.split(" "))||[],s=t.length>1?t[0]:"",a=t.length>1?t.slice(1).join(" "):t[0]||"";f({plate_code:s,plate_number:a,emirate:r.emirate,price:((P=r.price)==null?void 0:P.toString())||"",description:r.description||"",vehicle_type:r.vehicle_type||"car"}),R(r.id)},Se=async r=>{if(r.preventDefault(),!o||!I)return;if(!d.plate_number.trim()){n.error("Number is required");return}g(!0);const t=d.plate_code.trim()?`${d.plate_code.trim()} ${d.plate_number.trim()}`:d.plate_number.trim(),{error:s}=await c.from("listings").update({plate_number:t,emirate:d.emirate,plate_style:d.plate_code.trim()||null,price:d.price?Number(d.price):null,description:d.description||null,vehicle_type:d.vehicle_type}).eq("id",I);s?n.error(s.message):(n.success("Listing updated"),R(null),y()),g(!1)},Ee=async()=>{if(!T)return;const{error:r}=await c.from("listings").delete().eq("id",T);r?n.error(r.message):(n.success("Listing deleted"),y()),O(null)},De=async r=>{const t=r.status==="active"?"sold":"active",{error:s}=await c.from("listings").update({status:t}).eq("id",r.id);s?n.error(s.message):y()},Le=async r=>{const t=r.status==="hidden"?"active":"hidden",{error:s}=await c.from("listings").update({status:t}).eq("id",r.id);s?n.error(s.message):(n.success(t==="hidden"?"Listing hidden":"Listing visible"),y())},Pe=async()=>{if(!o)return;const{error:r}=await c.from("profiles").update({full_name:D.full_name,phone_number:D.phone_number}).eq("id",o.id);r?n.error(r.message):(n.success("Profile updated"),B(!1),ue())},k=async()=>{if(!o)return;const{data:r,error:t}=await c.from("mobile_numbers").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});t?console.error(t):ye(r||[])};i.useEffect(()=>{k()},[o]);const Me=async()=>{if(!o)return;const{data:r}=await c.from("favorites").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});if(!r)return;const t=[];for(const s of r)if(s.listing_type==="mobile_number"){const{data:a}=await c.from("mobile_numbers").select("phone_number, carrier, price").eq("id",s.listing_id).single();a&&t.push({id:s.id,listing_type:s.listing_type,listing_id:s.listing_id,phone_number:a.phone_number,carrier:a.carrier,price:a.price})}else if(s.listing_type==="plate"){const{data:a}=await c.from("listings").select("plate_number, emirate, price").eq("id",s.listing_id).single();a&&t.push({id:s.id,listing_type:s.listing_type,listing_id:s.listing_id,plate_number:a.plate_number,emirate:a.emirate,price:a.price})}re(t)};i.useEffect(()=>{Me()},[o]);const Ae=async r=>{await c.from("favorites").delete().eq("id",r),re(t=>t.filter(s=>s.id!==r)),n.success("Removed from favorites")},$e=()=>{j({phone_number:"",carrier:"du",price:"",description:"",contact_phone:(l==null?void 0:l.phone_number)||""}),V(!0)},se=r=>{const t=r.replace(/\D/g,"");return!!(/^971\d{9}$/.test(t)||/^05\d{8}$/.test(t))},Fe=async()=>{if(!o)return;if(!u.phone_number.trim()){n.error("Phone number is required");return}if(!se(u.phone_number)){n.error("Enter a valid UAE number (e.g. 971 50 123 4567 or 050 123 4567)");return}g(!0);const{error:r}=await c.from("mobile_numbers").insert({phone_number:u.phone_number.trim(),carrier:u.carrier,price:u.price?Number(u.price):null,description:u.description||null,contact_phone:u.contact_phone||null,user_id:o.id});r?n.error(r.message):(n.success("Mobile number listed!"),V(!1),k()),g(!1)},qe=async()=>{if(!H)return;const{error:r}=await c.from("mobile_numbers").delete().eq("id",H);r?n.error(r.message):(n.success("Number deleted"),k()),Z(null)},Xe=async r=>{const t=r.status==="active"?"sold":"active",{error:s}=await c.from("mobile_numbers").update({status:t}).eq("id",r.id);s?n.error(s.message):k()},ze=r=>{var t;v({phone_number:r.phone_number,carrier:r.carrier,price:((t=r.price)==null?void 0:t.toString())||"",description:r.description||"",contact_phone:r.contact_phone||""}),Y(r.id)},Ie=async()=>{if(!o||!Q)return;if(!x.phone_number.trim()){n.error("Phone number is required");return}if(!se(x.phone_number)){n.error("Enter a valid UAE number (e.g. 971 50 123 4567 or 050 123 4567)");return}g(!0);const{error:r}=await c.from("mobile_numbers").update({phone_number:x.phone_number.trim(),carrier:x.carrier,price:x.price?Number(x.price):null,description:x.description||null,contact_phone:x.contact_phone||null}).eq("id",Q);r?n.error(r.message):(n.success("Number updated"),Y(null),k()),g(!1)},G=xe.filter(r=>!(X!=="all"&&r.status!==X||q&&!r.plate_number.toLowerCase().includes(q.toLowerCase()))),Re=G.slice(_*z,(_+1)*z),L=Math.ceil(G.length/z);return e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/5 via-background to-primary/3 border-b border-border/50",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,hsl(var(--primary)/0.08),transparent_60%)]"}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 sm:pt-28 pb-8 sm:pb-10 relative",children:e.jsxs("div",{className:"dash-animate",children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold uppercase tracking-[0.2em] text-primary/70 mb-1",children:"Dashboard"}),e.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-display font-black text-foreground",children:["Welcome back, ",e.jsx("span",{className:"text-primary",children:((ae=l==null?void 0:l.full_name)==null?void 0:ae.split(" ")[0])||"there"})]}),e.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mt-1.5",children:"Manage your listings, numbers & favorites"})]})})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-16",children:[e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-4 sm:p-6 mb-8 dash-animate dash-animate-delay-1 hover-lift -mt-4 sm:-mt-6 relative z-10 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3 flex-wrap",children:[e.jsx("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-primary to-primary-hover flex items-center justify-center text-white font-bold text-sm shadow-md",children:(((oe=l==null?void 0:l.full_name)==null?void 0:oe[0])||"U").toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base sm:text-lg font-display font-bold text-foreground leading-tight",children:m("profile")}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:o==null?void 0:o.email})]}),S&&e.jsxs("span",{className:"shimmer-badge flex items-center gap-1 text-primary text-[10px] font-bold px-2.5 py-1 rounded-full border border-primary/20",children:[e.jsx(Oe,{className:"h-3 w-3"})," Admin"]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:S&&e.jsxs(le,{to:"/dashboard/admin",className:"text-[11px] sm:text-xs font-bold text-primary bg-primary/5 hover:bg-primary/10 px-3 py-1.5 rounded-lg transition-colors",children:[m("adminPanel")," →"]})})]}),ve?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 pt-2",children:[e.jsx("input",{value:D.full_name,onChange:r=>U(t=>({...t,full_name:r.target.value})),className:"bg-surface/80 border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 transition-shadow",placeholder:m("fullName")}),e.jsx(Te,{value:D.phone_number,onChange:r=>U(t=>({...t,phone_number:r})),showValidation:!1}),e.jsxs("div",{className:"flex gap-2 col-span-full",children:[e.jsx("button",{onClick:Pe,className:"bg-primary text-primary-foreground px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-primary-hover active:scale-[0.97] transition-all",children:m("save")}),e.jsx("button",{onClick:()=>B(!1),className:"bg-surface border border-border px-5 py-2.5 rounded-xl text-sm font-bold text-foreground hover:bg-surface-accent active:scale-[0.97] transition-all",children:m("cancel")})]})]}):e.jsxs("div",{className:"flex items-center justify-between gap-3 pt-1",children:[e.jsxs("div",{className:"min-w-0 space-y-0.5",children:[e.jsx("p",{className:"text-foreground font-semibold text-sm sm:text-base",children:(l==null?void 0:l.full_name)||"No name set"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:(l==null?void 0:l.phone_number)||"No phone set"})]}),e.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-1.5 text-primary text-xs sm:text-sm font-bold bg-primary/5 hover:bg-primary/10 px-3 py-1.5 rounded-lg transition-all active:scale-95",children:[e.jsx(A,{className:"h-3 w-3"})," Edit"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-5 dash-animate dash-animate-delay-2",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold text-foreground",children:m("myListings")}),e.jsxs("button",{onClick:we,className:"btn-glow bg-gradient-to-r from-primary to-primary-hover text-primary-foreground px-4 sm:px-5 py-2.5 rounded-xl text-xs sm:text-sm font-bold flex items-center gap-1.5 sm:gap-2 hover:shadow-lg hover:shadow-primary/20 active:scale-[0.97] transition-all",children:[e.jsx($,{className:"h-4 w-4"})," Add Listings"]})]}),fe&&e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8 shadow-sm dash-animate",children:[e.jsxs("h3",{className:"font-display font-bold text-foreground mb-4 text-sm sm:text-base flex items-center gap-2",children:[e.jsx("div",{className:"h-6 w-6 rounded-lg bg-gradient-to-br from-primary to-primary-hover flex items-center justify-center",children:e.jsx($,{className:"h-3.5 w-3.5 text-white"})}),"Add New Listings"]}),e.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:h.map((r,t)=>e.jsxs("div",{className:"bg-surface rounded-xl p-3 sm:p-4 border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:hidden",children:[e.jsxs("span",{className:"text-xs font-bold text-muted-foreground",children:["Listing #",t+1]}),e.jsx("button",{onClick:()=>te(t),className:"h-7 w-7 flex items-center justify-center text-red-400 hover:text-red-300 rounded-lg hover:bg-red-50 transition-colors",disabled:h.length<=1,children:e.jsx(M,{className:"h-3.5 w-3.5"})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:hidden gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Number"}),e.jsx("input",{value:r.plate_number,onChange:s=>{const a=s.target.value.replace(/\D/g,"").slice(0,5);p(t,"plate_number",a)},placeholder:"12345",maxLength:5,className:"w-full bg-card border border-border rounded-lg px-3 py-2.5 text-sm text-foreground font-mono font-bold text-center focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Code"}),e.jsx("input",{value:r.plate_style,onChange:s=>{const a=s.target.value.replace(/[^a-zA-Z0-9]/g,"").slice(0,2);p(t,"plate_style",a.toUpperCase())},placeholder:"A",maxLength:2,className:"w-full bg-card border border-border rounded-lg px-3 py-2.5 text-sm text-foreground font-mono font-bold text-center focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Emirate"}),e.jsx("select",{value:r.emirate,onChange:s=>p(t,"emirate",s.target.value),className:"w-full bg-card border border-border rounded-lg px-3 py-2.5 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",children:W.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Price"}),e.jsx("input",{type:"number",value:r.price,onChange:s=>p(t,"price",s.target.value),placeholder:"Price",className:"w-full bg-card border border-border rounded-lg px-3 py-2.5 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Description"}),e.jsx("input",{value:r.description,onChange:s=>p(t,"description",s.target.value),placeholder:"Optional",className:"w-full bg-card border border-border rounded-lg px-3 py-2.5 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),e.jsxs("div",{className:"hidden sm:grid grid-cols-12 gap-2 items-end",children:[e.jsxs("div",{className:"col-span-2",children:[t===0&&e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Number"}),e.jsx("input",{value:r.plate_number,onChange:s=>{const a=s.target.value.replace(/\D/g,"").slice(0,5);p(t,"plate_number",a)},placeholder:"12345",maxLength:5,className:"w-full bg-card border border-border rounded-lg px-3 py-2 text-sm text-foreground font-mono font-bold text-center focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{className:"col-span-2",children:[t===0&&e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Emirate"}),e.jsx("select",{value:r.emirate,onChange:s=>p(t,"emirate",s.target.value),className:"w-full bg-card border border-border rounded-lg px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",children:W.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"col-span-1",children:[t===0&&e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Type"}),e.jsxs("select",{value:r.vehicle_type,onChange:s=>p(t,"vehicle_type",s.target.value),className:"w-full bg-card border border-border rounded-lg px-1 py-2 text-xs text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",children:[e.jsx("option",{value:"car",children:"Car"}),e.jsx("option",{value:"bike",children:"Bike"})]})]}),e.jsxs("div",{className:"col-span-1",children:[t===0&&e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Code"}),e.jsx("input",{value:r.plate_style,onChange:s=>{const a=s.target.value.replace(/[^a-zA-Z0-9]/g,"").slice(0,2);p(t,"plate_style",a.toUpperCase())},placeholder:"A",maxLength:2,className:"w-full bg-card border border-border rounded-lg px-3 py-2 text-sm text-foreground font-mono font-bold text-center focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{className:"col-span-2",children:[t===0&&e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Price"}),e.jsx("input",{type:"number",value:r.price,onChange:s=>p(t,"price",s.target.value),placeholder:"Price",className:"w-full bg-card border border-border rounded-lg px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsxs("div",{className:"col-span-4",children:[t===0&&e.jsx("label",{className:"block text-[9px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Description"}),e.jsx("input",{value:r.description,onChange:s=>p(t,"description",s.target.value),placeholder:"Description",className:"w-full bg-card border border-border rounded-lg px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),e.jsx("button",{onClick:()=>te(t),className:"col-span-1 h-9 flex items-center justify-center text-red-400 hover:text-red-300 transition-colors",disabled:h.length<=1,children:e.jsx(M,{className:"h-4 w-4"})})]})]},t))}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mt-4",children:[e.jsxs("button",{onClick:_e,className:"bg-surface border border-border px-3 sm:px-4 py-2.5 rounded-xl text-xs sm:text-sm font-bold text-foreground hover:bg-surface-accent active:scale-[0.97] transition-all flex items-center gap-1",children:[e.jsx($,{className:"h-4 w-4"})," Add Another"]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:()=>F(!1),className:"bg-surface border border-border px-4 sm:px-6 py-2.5 rounded-xl text-xs sm:text-sm font-bold text-foreground hover:bg-surface-accent active:scale-[0.97] transition-all",children:m("cancel")}),e.jsxs("button",{onClick:ke,disabled:b,className:"bg-gradient-to-r from-primary to-primary-hover text-primary-foreground px-4 sm:px-6 py-2.5 rounded-xl text-xs sm:text-sm font-bold disabled:opacity-50 flex items-center gap-2 hover:shadow-lg hover:shadow-primary/20 active:scale-[0.97] transition-all",children:[b&&e.jsx(C,{className:"h-4 w-4 animate-spin"})," Save (",h.filter(r=>r.plate_number.trim()).length,")"]})]})]}),I&&e.jsxs("form",{onSubmit:Se,className:"glass-card border border-border/60 rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8 shadow-sm dash-animate",children:[e.jsxs("h3",{className:"font-display font-bold text-foreground text-base sm:text-lg mb-4 sm:mb-5 flex items-center gap-2",children:[e.jsx("div",{className:"h-6 w-6 rounded-lg bg-gradient-to-br from-primary to-primary-hover flex items-center justify-center",children:e.jsx(A,{className:"h-3 w-3 text-white"})}),m("editListing")]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"editVehicleType",checked:d.vehicle_type==="car",onChange:()=>f(r=>({...r,vehicle_type:"car"})),className:"accent-primary"}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:"Car"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"editVehicleType",checked:d.vehicle_type==="bike",onChange:()=>f(r=>({...r,vehicle_type:"bike"})),className:"accent-primary"}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:"Bike"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-900/50 rounded-xl p-3 sm:p-4 mb-5 sm:mb-6 flex items-center justify-center border border-border/50",children:e.jsx("div",{className:"bg-white dark:bg-card border-2 border-gray-300 dark:border-border rounded-xl px-5 sm:px-6 py-2.5 sm:py-3",children:e.jsxs("p",{className:"font-mono font-black text-xl sm:text-2xl text-foreground tracking-wider text-center",children:[d.plate_code&&e.jsx("span",{children:d.plate_code}),d.plate_code&&d.plate_number&&e.jsx("span",{className:"mx-2",children:" "}),e.jsx("span",{children:d.plate_number||"—"})]})})}),e.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-12 gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"col-span-1 sm:col-span-3",children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Code"}),e.jsx("input",{value:d.plate_code,onChange:r=>{const t=r.target.value.replace(/[^a-zA-Z0-9]/g,"").slice(0,2);f(s=>({...s,plate_code:t.toUpperCase()}))},maxLength:2,className:"w-full bg-surface border border-border rounded-xl px-3 sm:px-4 py-2.5 sm:py-3 text-sm text-foreground font-mono font-bold text-center focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"A"})]}),e.jsxs("div",{className:"col-span-1 sm:col-span-5",children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Number"}),e.jsx("input",{required:!0,value:d.plate_number,onChange:r=>{const t=r.target.value.replace(/\D/g,"").slice(0,5);f(s=>({...s,plate_number:t}))},maxLength:5,className:"w-full bg-surface border border-border rounded-xl px-3 sm:px-4 py-2.5 sm:py-3 text-sm text-foreground font-mono font-bold text-center focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"12345"})]}),e.jsxs("div",{className:"col-span-1 sm:col-span-4",children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Emirate"}),e.jsx("select",{value:d.emirate,onChange:r=>f(t=>({...t,emirate:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-2 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",children:W.map(r=>e.jsx("option",{value:r,children:r},r))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Price (AED)"}),e.jsx("input",{type:"number",value:d.price,onChange:r=>f(t=>({...t,price:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-2.5 sm:py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"22,000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Description"}),e.jsx("input",{value:d.description,onChange:r=>f(t=>({...t,description:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-2.5 sm:py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"Optional description"})]})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsxs("button",{type:"submit",disabled:b,className:"bg-gradient-to-r from-primary to-primary-hover text-primary-foreground px-5 sm:px-6 py-2.5 rounded-xl text-xs sm:text-sm font-bold disabled:opacity-50 flex items-center gap-2 hover:shadow-lg hover:shadow-primary/20 active:scale-[0.97] transition-all",children:[b&&e.jsx(C,{className:"h-4 w-4 animate-spin"})," ",m("save")]}),e.jsx("button",{type:"button",onClick:()=>R(null),className:"bg-surface border border-border px-5 sm:px-6 py-2.5 rounded-xl text-xs sm:text-sm font-bold text-foreground hover:bg-surface-accent active:scale-[0.97] transition-all",children:m("cancel")})]})]}),e.jsxs("div",{className:"space-y-3 mb-5 dash-animate dash-animate-delay-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(ne,{className:"absolute start-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),e.jsx("input",{value:q,onChange:r=>{he(r.target.value),E(0)},className:"w-full bg-surface/80 border border-border rounded-xl ps-10 pe-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40 transition-all",placeholder:"Search plate numbers..."})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["all","active","sold","hidden"].map(r=>e.jsx("button",{onClick:()=>{je(r),E(0)},className:`px-3.5 sm:px-4 py-2 rounded-xl text-[10px] sm:text-xs font-bold uppercase tracking-wider transition-all active:scale-95 ${X===r?"bg-gradient-to-r from-primary to-primary-hover text-primary-foreground shadow-md shadow-primary/15":"bg-surface border border-border text-foreground hover:bg-surface-accent hover:border-primary/20"}`,children:r==="all"?"All":r},r))})]}),be?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(C,{className:"h-8 w-8 animate-spin text-primary mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading listings..."})]}):G.length===0?e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-12 text-center",children:[e.jsx(ne,{className:"h-10 w-10 mx-auto text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground font-medium",children:"No listings found"}),e.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Try adjusting your filters or add a new listing"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:Re.map((r,t)=>e.jsx("div",{className:"glass-card border border-border/60 rounded-xl p-3.5 sm:p-4 hover-lift group transition-all duration-300 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20",style:{animationDelay:`${t*.04}s`},children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[e.jsx("span",{className:`inline-flex items-center justify-center h-10 w-16 bg-white border border-border rounded-lg font-mono font-black text-foreground text-sm tracking-wide shadow-sm group-hover:scale-105 transition-transform ${r.status==="sold"?"opacity-50 grayscale":""}`,children:r.plate_number}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-[9px] font-black uppercase tracking-wider px-2 py-0.5 rounded-md border ${r.status==="active"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":r.status==="sold"?"bg-red-500/10 text-red-600 border-red-500/20":"bg-zinc-100 text-zinc-500 border-zinc-200"}`,children:r.status}),r.vehicle_type==="bike"&&e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded-md bg-sky-500/10 text-sky-600 border border-sky-500/20",children:"Bike"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground truncate font-medium",children:[e.jsx("span",{className:"text-foreground",children:r.emirate}),r.price&&e.jsx("span",{className:"text-primary mx-1.5",children:"•"}),r.price&&`AED ${r.price.toLocaleString()}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 flex-shrink-0 opacity-80 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>Le(r),className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all active:scale-90 ${r.status==="hidden"?"bg-amber-100 text-amber-600":"hover:bg-surface-accent text-muted-foreground hover:text-foreground"}`,title:r.status==="hidden"?"Show listing":"Hide listing",children:r.status==="hidden"?e.jsx(Ve,{className:"h-4 w-4"}):e.jsx(He,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>De(r),className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all active:scale-90 ${r.status==="sold"?"bg-red-100 text-red-600":"hover:bg-surface-accent text-muted-foreground hover:text-green-600"}`,title:r.status==="active"?"Mark as sold":"Mark as active",children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Ce(r),className:"h-8 w-8 rounded-lg hover:bg-surface-accent flex items-center justify-center text-muted-foreground hover:text-primary transition-all active:scale-90",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>O(r.id),className:"h-8 w-8 rounded-lg hover:bg-red-50 flex items-center justify-center text-muted-foreground hover:text-red-500 transition-all active:scale-90",children:e.jsx(M,{className:"h-4 w-4"})})]})]})},r.id))}),L>1&&e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[e.jsx("button",{onClick:()=>E(r=>Math.max(0,r-1)),disabled:_===0,className:"px-4 py-2 rounded-xl bg-surface border border-border text-sm font-bold text-foreground disabled:opacity-30 hover:bg-surface-accent active:scale-95 transition-all",children:"Prev"}),e.jsxs("span",{className:"text-xs text-muted-foreground font-mono bg-surface px-3 py-1.5 rounded-lg border border-border",children:[_+1," / ",L]}),e.jsx("button",{onClick:()=>E(r=>Math.min(L-1,r+1)),disabled:_>=L-1,className:"px-4 py-2 rounded-xl bg-surface border border-border text-sm font-bold text-foreground disabled:opacity-30 hover:bg-surface-accent active:scale-95 transition-all",children:"Next"})]})]}),e.jsxs("div",{className:"mt-10 sm:mt-12 pt-8 border-t border-border/50 dash-animate dash-animate-delay-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3 min-w-0",children:[e.jsx("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-md",children:e.jsx(de,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),e.jsx("h2",{className:"text-lg sm:text-2xl font-display font-bold text-foreground truncate",children:"My Mobile Numbers"})]}),e.jsxs("button",{onClick:$e,className:"btn-glow bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-3 sm:px-5 py-2.5 rounded-xl text-xs sm:text-sm font-bold flex items-center gap-1.5 sm:gap-2 hover:shadow-lg hover:shadow-blue-500/20 active:scale-[0.97] transition-all flex-shrink-0",children:[e.jsx($,{className:"h-4 w-4"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Add"})," Number"]})]}),Q&&e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-6 mb-8 shadow-sm dash-animate",children:[e.jsx("h3",{className:"text-sm font-bold text-foreground mb-5",children:"Edit Mobile Number"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Carrier"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>v(r=>({...r,carrier:"du"})),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border text-sm font-bold transition-all ${x.carrier==="du"?"bg-blue-50 border-blue-300 text-blue-700 ring-2 ring-blue-200 dark:bg-blue-900/30 dark:border-blue-500 dark:text-blue-300":"bg-surface border-border text-muted-foreground hover:border-gray-400"}`,children:[e.jsx("img",{src:"/du-logo.png",alt:"Du",className:"h-5 w-5 object-contain"})," Du"]}),e.jsxs("button",{type:"button",onClick:()=>v(r=>({...r,carrier:"etisalat"})),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border text-sm font-bold transition-all ${x.carrier==="etisalat"?"bg-emerald-50 border-emerald-300 text-emerald-700 ring-2 ring-emerald-200 dark:bg-emerald-900/30 dark:border-emerald-500 dark:text-emerald-300":"bg-surface border-border text-muted-foreground hover:border-gray-400"}`,children:[e.jsx("img",{src:"/Eand_Logo.svg",alt:"e&",className:"h-5 w-5 object-contain"})," e&"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Phone Number"}),e.jsx("input",{value:x.phone_number,onChange:r=>v(t=>({...t,phone_number:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground font-mono focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"050 123 4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Price (AED)"}),e.jsx("input",{type:"number",value:x.price,onChange:r=>v(t=>({...t,price:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"99,399"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Description"}),e.jsx("input",{value:x.description,onChange:r=>v(t=>({...t,description:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Your Contact Phone"}),e.jsx("input",{value:x.contact_phone,onChange:r=>v(t=>({...t,contact_phone:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"Auto-filled from profile"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:Ie,disabled:b,className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-2.5 rounded-xl text-sm font-bold disabled:opacity-50 flex items-center gap-2 hover:shadow-lg hover:shadow-blue-500/20 active:scale-[0.97] transition-all",children:[b&&e.jsx(C,{className:"h-4 w-4 animate-spin"})," Save Changes"]}),e.jsx("button",{onClick:()=>Y(null),className:"bg-surface border border-border px-6 py-2.5 rounded-xl text-sm font-bold text-foreground hover:bg-surface-accent active:scale-[0.97] transition-all",children:"Cancel"})]})]}),Ne&&e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-6 mb-8 shadow-sm dash-animate",children:[e.jsx("h3",{className:"text-sm font-bold text-foreground mb-5",children:"List a VIP Mobile Number"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Carrier"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>j(r=>({...r,carrier:"du"})),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border text-sm font-bold transition-all ${u.carrier==="du"?"bg-blue-50 border-blue-300 text-blue-700 ring-2 ring-blue-200 dark:bg-blue-900/30 dark:border-blue-500 dark:text-blue-300":"bg-surface border-border text-muted-foreground hover:border-gray-400"}`,children:[e.jsx("img",{src:"/du-logo.png",alt:"Du",className:"h-5 w-5 object-contain"}),"Du"]}),e.jsxs("button",{type:"button",onClick:()=>j(r=>({...r,carrier:"etisalat"})),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border text-sm font-bold transition-all ${u.carrier==="etisalat"?"bg-emerald-50 border-emerald-300 text-emerald-700 ring-2 ring-emerald-200 dark:bg-emerald-900/30 dark:border-emerald-500 dark:text-emerald-300":"bg-surface border-border text-muted-foreground hover:border-gray-400"}`,children:[e.jsx("img",{src:"/Eand_Logo.svg",alt:"Etisalat",className:"h-5 w-5 object-contain"}),"Etisalat"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"VIP Number"}),e.jsx("input",{value:u.phone_number,onChange:r=>j(t=>({...t,phone_number:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"e.g. 050 123 4567 or 971501234567"}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Format: 971XXXXXXXXX or 05XXXXXXXX"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Price (AED)"}),e.jsx("input",{type:"number",value:u.price,onChange:r=>j(t=>({...t,price:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"32,000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Description"}),e.jsx("input",{value:u.description,onChange:r=>j(t=>({...t,description:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1.5",children:"Your Contact Phone"}),e.jsx("input",{value:u.contact_phone,onChange:r=>j(t=>({...t,contact_phone:r.target.value})),className:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"Auto-filled from profile"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:Fe,disabled:b,className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-2.5 rounded-xl text-sm font-bold disabled:opacity-50 flex items-center gap-2 hover:shadow-lg hover:shadow-blue-500/20 active:scale-[0.97] transition-all",children:[b&&e.jsx(C,{className:"h-4 w-4 animate-spin"})," List Number"]}),e.jsx("button",{onClick:()=>V(!1),className:"bg-surface border border-border px-6 py-2.5 rounded-xl text-sm font-bold text-foreground hover:bg-surface-accent active:scale-[0.97] transition-all",children:"Cancel"})]})]}),J.length===0?e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-10 text-center",children:[e.jsx("div",{className:"h-14 w-14 mx-auto rounded-2xl bg-gradient-to-br from-blue-500/10 to-indigo-600/10 flex items-center justify-center mb-3",children:e.jsx(de,{className:"h-6 w-6 text-muted-foreground/40"})}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"No mobile numbers listed yet"})]}):e.jsx("div",{className:"space-y-3",children:J.map(r=>e.jsx("div",{className:"glass-card border border-border/60 rounded-2xl p-4 sm:p-5 hover-lift transition-all duration-300 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20 group",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:`h-9 w-9 sm:h-10 sm:w-10 rounded-xl flex items-center justify-center overflow-hidden border flex-shrink-0 transition-transform group-hover:scale-105 ${r.carrier==="etisalat"?"border-emerald-200 bg-emerald-50":"border-blue-200 bg-blue-50"}`,children:e.jsx("img",{src:r.carrier==="etisalat"?"/Eand_Logo.svg":"/du-logo.png",alt:r.carrier,className:"h-5 w-5 sm:h-6 sm:w-6 object-contain"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:e.jsx("span",{className:`text-[9px] font-black uppercase tracking-wider px-2 py-0.5 rounded-md border ${r.status==="active"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":r.status==="sold"?"bg-red-500/10 text-red-600 border-red-500/20":"bg-zinc-100 text-zinc-500 border-zinc-200"}`,children:r.status})}),e.jsx("p",{className:"text-foreground font-bold font-mono tracking-wider text-sm sm:text-base truncate",children:r.phone_number}),e.jsxs("p",{className:"text-muted-foreground text-[11px] sm:text-xs capitalize flex items-center gap-1.5",children:[r.carrier,r.price&&e.jsx("span",{className:"text-primary",children:"•"}),r.price?`AED ${r.price.toLocaleString()}`:"No price"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 flex-shrink-0 opacity-80 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>Xe(r),className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all active:scale-90 ${r.status==="sold"?"bg-red-100 text-red-600":"hover:bg-surface-accent text-muted-foreground hover:text-green-600"}`,title:r.status==="active"?"Mark as sold":"Mark as active",children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ze(r),className:"h-8 w-8 rounded-lg hover:bg-surface-accent flex items-center justify-center text-muted-foreground hover:text-primary transition-all active:scale-90",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Z(r.id),className:"h-8 w-8 rounded-lg hover:bg-red-50 flex items-center justify-center text-red-400 hover:text-red-500 transition-all active:scale-90",children:e.jsx(M,{className:"h-4 w-4"})})]})]})},r.id))})]}),e.jsx("div",{className:"mt-10 sm:mt-12 pt-8 border-t border-border/50 dash-animate dash-animate-delay-4",children:e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-lg sm:text-2xl font-display font-bold text-foreground flex items-center gap-2.5",children:[e.jsx("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center shadow-md",children:e.jsx(K,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),"My Favorites"]})})}),e.jsx("div",{className:"glass-card border border-border/60 rounded-2xl p-6 mb-8 shadow-sm",children:ee.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"h-14 w-14 mx-auto rounded-2xl bg-gradient-to-br from-rose-500/10 to-pink-600/10 flex items-center justify-center mb-3",children:e.jsx(K,{className:"h-6 w-6 text-muted-foreground/30"})}),e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"No favorites saved yet"}),e.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Browse listings and tap the ❤️ to save"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(r=>e.jsxs("div",{className:"bg-surface/60 border border-border/60 rounded-xl p-4 flex items-center gap-4 group hover-lift",children:[e.jsxs(le,{to:r.listing_type==="mobile_number"?`/mobile-number/${r.listing_id}`:`/plate/${r.listing_id}`,className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-widest font-bold mb-1",children:r.listing_type==="mobile_number"?r.carrier==="etisalat"?"e& Number":"Du Number":r.emirate||"Plate"}),e.jsx("p",{className:"text-lg font-black font-mono text-foreground truncate group-hover:text-primary transition-colors",children:r.listing_type==="mobile_number"?r.phone_number:r.plate_number}),e.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:r.price?`AED ${r.price.toLocaleString()}`:"Call for price"})]}),e.jsx("button",{onClick:()=>Ae(r.id),className:"h-8 w-8 rounded-lg bg-red-50 border border-red-200 flex items-center justify-center text-red-500 hover:bg-red-100 transition-colors flex-shrink-0",title:"Remove from favorites",children:e.jsx(K,{className:"h-4 w-4 fill-current"})})]},r.id))})}),H&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-6 max-w-sm w-full shadow-2xl modal-enter",children:[e.jsx("p",{className:"text-foreground font-semibold mb-4",children:"Delete this mobile number listing?"}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>Z(null),className:"px-4 py-2.5 rounded-xl bg-surface border border-border text-sm font-bold text-foreground hover:bg-surface-accent active:scale-95 transition-all",children:m("cancel")}),e.jsxs("button",{onClick:qe,className:"px-4 py-2.5 rounded-xl bg-gradient-to-r from-red-500 to-rose-600 text-white text-sm font-bold hover:shadow-lg hover:shadow-red-500/20 active:scale-95 transition-all",children:[m("yes"),", Delete"]})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"glass-card border border-border/60 rounded-2xl p-6 max-w-sm w-full shadow-2xl modal-enter",children:[e.jsx("p",{className:"text-foreground font-semibold mb-4",children:m("deleteConfirm")}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>O(null),className:"px-4 py-2.5 rounded-xl bg-surface border border-border text-sm font-bold text-foreground hover:bg-surface-accent active:scale-95 transition-all",children:m("cancel")}),e.jsxs("button",{onClick:Ee,className:"px-4 py-2.5 rounded-xl bg-gradient-to-r from-red-500 to-rose-600 text-white text-sm font-bold hover:shadow-lg hover:shadow-red-500/20 active:scale-95 transition-all",children:[m("yes"),", Delete"]})]})]})})]})]})}export{or as default};
