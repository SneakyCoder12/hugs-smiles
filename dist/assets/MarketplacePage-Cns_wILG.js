import{u as M,a as _,r as a,s as R,j as e,L as D,X as F,b as z,C as I}from"./index-oWMwxAaA.js";import{P as K}from"./PlateCard-DbfWnnPQ.js";import{S as U}from"./sparkles-BcuWLBmw.js";import{S as q}from"./search-CF_0P4O3.js";import{C as T}from"./chevron-left-Co_0h8vG.js";import"./usePlateGenerator-DBopJAml.js";import"./heart-80JjwrvD.js";import"./phone-P4D10GHF.js";import"./message-circle-D034qcCi.js";const w=["Abu Dhabi","Dubai","Sharjah","Ajman","Umm Al Quwain","Ras Al Khaimah","Fujairah"],$={"Abu Dhabi":"abudhabi",Dubai:"dubai",Sharjah:"sharjah",Ajman:"ajman","Umm Al Quwain":"umm_al_quwain","Ras Al Khaimah":"rak",Fujairah:"fujairah"},g=12;function O(){const{t:s}=M(),[h]=_(),[p,k]=a.useState([]),[P,f]=a.useState(!0),[n,L]=a.useState(""),[i,u]=a.useState(""),[d,j]=a.useState(""),[c,v]=a.useState(""),[l,o]=a.useState(0),[y,E]=a.useState(0);a.useEffect(()=>{const t=h.get("emirate");if(t){const r=w.find(m=>m.toLowerCase()===t.toLowerCase());u(r||t)}},[h]);const N=a.useCallback(async()=>{f(!0);let t=R.from("listings").select("*",{count:"exact"}).in("status",["active","sold"]).order("created_at",{ascending:!1}).range(l*g,(l+1)*g-1);n.trim()&&(t=t.ilike("plate_number",`%${n.trim()}%`)),i&&(t=t.eq("emirate",i)),d&&(t=t.gte("price",Number(d))),c&&(t=t.lte("price",Number(c)));const{data:r,count:m,error:b}=await t;b?console.error(b):(k(r||[]),E(m||0)),f(!1)},[n,i,d,c,l]);a.useEffect(()=>{N()},[N]);const x=Math.ceil(y/g),S=()=>{L(""),u(""),j(""),v(""),o(0)},C=n||i||d||c;return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 pt-24",children:[e.jsxs("div",{className:"relative rounded-3xl overflow-hidden mb-10 border border-gray-200/60 shadow-sm",style:{background:"linear-gradient(135deg, #fafaf9 0%, #ffffff 30%, #f5f3ef 60%, #faf8f5 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.06]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 200'%3E%3Cpath d='M0,200 L0,180 L30,180 L30,120 L35,120 L35,100 L40,100 L40,120 L45,120 L45,180 L80,180 L80,140 L85,140 L85,60 L87,55 L89,60 L89,140 L95,140 L95,180 L130,180 L130,150 L140,150 L140,130 L150,130 L150,150 L160,150 L160,180 L200,180 L200,160 L210,160 L210,40 L213,10 L216,40 L216,160 L220,160 L220,180 L260,180 L260,150 L280,150 L280,130 L290,130 L290,170 L310,170 L310,140 L325,140 L325,170 L340,170 L340,180 L380,180 L380,160 L400,160 L400,120 L405,120 L405,80 L410,75 L415,80 L415,120 L420,120 L420,160 L440,160 L440,180 L500,180 L500,140 L520,140 L520,110 L540,110 L540,140 L560,140 L560,180 L600,180 L600,155 L620,155 L620,130 L630,130 L630,155 L650,155 L650,180 L700,180 L700,160 L730,160 L730,140 L750,140 L750,160 L780,160 L780,180 L800,180 L800,200 Z' fill='%23000' opacity='0.5'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right bottom",backgroundSize:"70% auto"}}),e.jsx("div",{className:"absolute -top-32 -right-32 w-96 h-96 rounded-full bg-gradient-to-br from-amber-100/40 to-orange-50/20 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-72 h-72 rounded-full bg-gradient-to-tr from-amber-50/30 to-yellow-50/10 blur-3xl"}),e.jsx("div",{className:"absolute top-4 right-[15%] text-amber-300/[0.08] text-2xl font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(-8deg)"},children:"780 700,000"}),e.jsx("div",{className:"absolute top-12 right-[5%] text-amber-300/[0.08] text-xl font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(5deg)"},children:"050007 7777"}),e.jsx("div",{className:"absolute bottom-8 right-[8%] text-amber-300/[0.08] text-lg font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(-3deg)"},children:"055 777 7777"}),e.jsx("div",{className:"absolute bottom-20 left-[55%] text-amber-300/[0.06] text-base font-mono font-black tracking-widest select-none hidden md:block",style:{transform:"rotate(6deg)"},children:"051 95,000"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"radial-gradient(circle, #000 0.5px, transparent 0.5px)",backgroundSize:"16px 16px"}}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 via-white to-red-500 opacity-30"}),e.jsxs("div",{className:"relative px-8 md:px-14 py-12 md:py-16 flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex-1 text-center md:text-start z-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 mb-4 px-4 py-1.5 rounded-full border border-amber-200/80 bg-gradient-to-r from-amber-50 to-white",children:[e.jsx(U,{className:"h-3.5 w-3.5 text-amber-500"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-amber-600",children:"Premium Collection"})]}),e.jsxs("h1",{className:"text-3xl md:text-5xl font-display font-black text-gray-900 tracking-tight mb-3 leading-tight",children:["Number Plate",e.jsx("br",{}),"Marketplace"]}),e.jsxs("p",{className:"text-gray-500 text-sm md:text-base leading-relaxed max-w-md",children:["Explore exclusive UAE number plates across all Emirates.",e.jsx("br",{className:"hidden md:block"})," Find your dream plate today."]}),e.jsx(D,{to:"/mobile-numbers",className:"mt-6 inline-flex items-center gap-2 text-sm font-bold text-gray-700 hover:text-gray-900 transition-colors border border-gray-200 rounded-full px-5 py-2.5 bg-white hover:bg-gray-50 shadow-sm",children:"Browse VIP Phone Numbers â†’"})]}),e.jsxs("div",{className:"flex-shrink-0 relative w-64 h-48 hidden md:block",children:[e.jsxs("div",{className:"absolute top-4 left-6 bg-white rounded-xl border border-gray-200 shadow-lg px-4 py-2.5 transform -rotate-3 hover:rotate-0 transition-transform duration-300 z-20",children:[e.jsx("img",{src:"/dubai-plate.png",alt:"Dubai Plate",className:"h-11 w-auto object-contain"}),e.jsx("p",{className:"text-[9px] font-mono text-gray-400 text-center mt-1",children:"AED 1,250,000"})]}),e.jsx("div",{className:"absolute top-0 right-0 bg-white rounded-lg border border-gray-200 shadow-md px-3 py-2 transform rotate-3 hover:rotate-0 transition-transform duration-300 z-10",children:e.jsx("img",{src:"/abudhabi-plate.png",alt:"Abu Dhabi Plate",className:"h-8 w-auto object-contain"})}),e.jsx("div",{className:"absolute bottom-4 left-0 bg-white rounded-lg border border-gray-200 shadow-md px-3 py-2 transform rotate-2 hover:rotate-0 transition-transform duration-300 z-10",children:e.jsx("img",{src:"/sharjah-plate.png",alt:"Sharjah Plate",className:"h-8 w-auto object-contain"})}),e.jsx("div",{className:"absolute bottom-0 right-4 bg-white rounded-lg border border-gray-200 shadow-md px-3 py-2 transform -rotate-2 hover:rotate-0 transition-transform duration-300 z-10",children:e.jsx("img",{src:"/rak-plate.png",alt:"RAK Plate",className:"h-8 w-auto object-contain"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-foreground",children:s("activeListings")}),e.jsxs("span",{className:"text-sm text-muted-foreground font-mono",children:[y," plates"]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:[e.jsxs("div",{className:"relative lg:col-span-2",children:[e.jsx(q,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{value:n,onChange:t=>{L(t.target.value),o(0)},className:"w-full bg-surface border border-border rounded-xl ps-10 pe-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:s("searchPlaceholder")})]}),e.jsxs("select",{value:i,onChange:t=>{u(t.target.value),o(0)},className:"bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",children:[e.jsx("option",{value:"",children:s("allEmirates")}),w.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("input",{type:"number",value:d,onChange:t=>{j(t.target.value),o(0)},placeholder:s("minPrice"),className:"bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"}),e.jsx("input",{type:"number",value:c,onChange:t=>{v(t.target.value),o(0)},placeholder:s("maxPrice"),className:"bg-surface border border-border rounded-xl px-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),C&&e.jsxs("button",{onClick:S,className:"mt-3 text-xs text-primary font-bold flex items-center gap-1 hover:underline",children:[e.jsx(F,{className:"h-3 w-3"})," ",s("resetFilters")]})]}),P?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(z,{className:"h-8 w-8 animate-spin text-primary"})}):p.length===0?e.jsx("div",{className:"text-center py-20 text-muted-foreground",children:s("noResults")}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:p.map(t=>{const r=t.plate_number.split(" "),m=r.length>1?r[0]:"",b=r.length>1?r.slice(1).join(" "):r[0],A=$[t.emirate]||t.emirate.toLowerCase().replace(/\s+/g,"_");return e.jsx(K,{emirate:A,code:m,number:b,price:t.price?`AED ${t.price.toLocaleString()}`:void 0,plateUrl:`/plate/${t.id}`,sellerPhone:t.contact_phone,plateNumber:t.plate_number,listingId:t.id,status:t.status},t.id)})}),x>1&&e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>o(t=>Math.max(0,t-1)),disabled:l===0,className:"h-10 w-10 rounded-xl bg-card border border-border flex items-center justify-center text-foreground disabled:opacity-30 hover:bg-surface transition-colors",children:e.jsx(T,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-muted-foreground font-mono",children:[s("page")," ",l+1," ",s("of")," ",x]}),e.jsx("button",{onClick:()=>o(t=>Math.min(x-1,t+1)),disabled:l>=x-1,className:"h-10 w-10 rounded-xl bg-card border border-border flex items-center justify-center text-foreground disabled:opacity-30 hover:bg-surface transition-colors",children:e.jsx(I,{className:"h-4 w-4"})})]})]})})}export{O as default};
