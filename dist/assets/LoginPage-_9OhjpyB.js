import{u as k,d as L,r as a,j as e,L as i,b as P,s as p,t as n}from"./index-oWMwxAaA.js";import{P as S}from"./PhoneInput-BelPSwci.js";import{M as C}from"./mail-BFU39x_q.js";import{L as E}from"./lock-DbpErOGU.js";import{E as M,a as I}from"./eye--Vfn0YSA.js";import"./phone-P4D10GHF.js";function D(){const{t:s}=k(),h=L(),[t,f]=a.useState("email"),[c,g]=a.useState(""),[d,b]=a.useState("+971"),[m,j]=a.useState(""),[l,y]=a.useState(!1),[u,x]=a.useState(!1),[N,w]=a.useState(!1),v=async r=>{if(r.preventDefault(),x(!0),t==="email"){const{error:o}=await p.auth.signInWithPassword({email:c,password:m});o?n.error(o.message):(n.success(s("success")),h("/dashboard"))}else{const{error:o}=await p.auth.signInWithOtp({phone:d});o?n.error(o.message):n.success("OTP sent to your phone. Check your messages.")}x(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(i,{to:"/",className:"font-display font-black text-3xl text-foreground",children:["AL ",e.jsx("span",{className:"text-primary",children:"NUAMI"})]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:s("login")})]}),e.jsxs("form",{onSubmit:v,className:"bg-card border border-border rounded-2xl p-8 space-y-5 shadow-card",children:[t==="email"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:s("email")}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"email",required:!0,value:c,onChange:r=>g(r.target.value),className:"w-full bg-surface border border-border rounded-xl ps-10 pe-4 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"you@example.com"})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:s("phoneNumber")}),e.jsx(S,{value:d,onChange:b,required:!0})]}),t==="email"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:s("password")}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:l?"text":"password",required:!0,value:m,onChange:r=>j(r.target.value),className:"w-full bg-surface border border-border rounded-xl ps-10 pe-10 py-3 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>y(!l),className:"absolute end-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:l?e.jsx(M,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Password must be at least 6 characters"})]}),t==="email"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:r=>w(r.target.checked),className:"h-4 w-4 rounded border-border accent-primary"}),e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"Remember me"})]}),e.jsx(i,{to:"/forgot-password",className:"text-xs text-primary hover:underline font-medium",children:s("forgotPassword")})]}),e.jsxs("button",{type:"submit",disabled:u,className:"w-full bg-primary text-primary-foreground hover:bg-primary-hover py-3 rounded-xl font-bold text-sm transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[u&&e.jsx(P,{className:"h-4 w-4 animate-spin"}),t==="email"?s("login"):"Send OTP"]}),e.jsx("button",{type:"button",onClick:()=>f(t==="email"?"phone":"email"),className:"w-full text-center text-sm text-primary font-bold hover:underline",children:t==="email"?"Login with Phone Number":"Login with Email"}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[s("noAccount")," ",e.jsx(i,{to:"/signup",className:"text-primary font-bold hover:underline",children:s("signup")})]})]})]})})}export{D as default};
